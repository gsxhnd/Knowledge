---
title: 栈展开
created: 2025-10-20 15:12
---
<!-- markdownlint-disable MD025 -->

# 栈展开 (Stack Unwinding)

`栈展开（Stack Unwinding）`是C++异常处理机制的核心环节，它确保了当程序遇到意外错误时，能够有序地清理资源，防止内存泄漏。下面这个流程图清晰地展示了栈展开的完整过程。

```mermaid
flowchart TD
    A[函数调用链中抛出异常] --> B[暂停当前函数执行]
    B --> C{在当前函数内查找匹配的catch块}
    C -->|未找到| D[展开当前栈帧<br>逆序析构局部对象]
    D --> E{是否到达main函数?}
    E -->|否| C
    E -->|是, 仍未找到| F[调用terminate终止程序]
    C -->|找到匹配catch块| G[执行异常处理代码]
    G --> H[程序继续正常执行]
```

## Refer

- [Stack Unwinding](https://www.bogotobogo.com/cplusplus/stackunwinding.php)
